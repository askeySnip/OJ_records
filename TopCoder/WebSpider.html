<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>You are writing software that will spider a web site (that is, it visits all links on the homepage, then visits all links on those pages, etc.), and travels three levels deep.  You have a list of all the links found in the first pass, in the second pass, and in the third pass.</p>

<p>You are given a vector &lt;string&gt;, <b>firstPass</b>, containing a list of all the links visited from the home page.  They will all be in the form &quot;<i>page</i>&quot;, &quot;<i>subfolder</i>/<i>page</i>&quot;, &quot;<i>subfolder</i>/<i>subfolder</i>/<i>page</i>&quot;, etc.  There may be any level of depth to the subfolders.</p>

<p>You are given a vector &lt;string&gt;, <b>secondPass</b>, containing a list of all the links found in the second pass (by visiting the links found on the home page).  Each element is of the form &quot;<i>pageNumber</i> <i>address</i>&quot;, where <i>pageNumber</i> is the index (from 0) of the page from <b>firstPass</b> on which the link was found.  <i>address</i> is formatted similarly to the elements of <b>firstPass</b>, with the added possibility of a subfolder named &quot;..&quot;, which means &quot;go to the parent folder&quot;.  However, &quot;..&quot; can only appear as the first subfolder, or if all the previous subfolders are also &quot;..&quot;.  So, if the homepage contains a link to &quot;reports/sales.htm&quot;, sales.htm is in the reports folder.  If that page then contains a link to &quot;products.htm&quot;, then products.htm is also in the reports folder.  However, if that page contains a link to &quot;../home.htm&quot;, then that is a link back to a page in the root folder.</p>

<p>You are finally given a vector &lt;string&gt;, <b>thirdPass</b>, indicating all of the links found in the third pass.  It is formatted exactly as in <b>secondPass</b>, but the page numbers here refer to the index of the page from <b>secondPass</b>.  In all cases, the links reference will be relative paths.  In particular, they will never begin with a '/' character.</p>

<p>You are to return an int indicating the number of distinct pages (not including the initial homepage) visited during this crawl of the web site.</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>WebSpider</td></tr><tr><td>Method:</td><td>countPages</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, vector &lt;string&gt;, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int countPages(vector &lt;string&gt; firstPass, vector &lt;string&gt; secondPass, vector &lt;string&gt; thirdPass)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The links are all case sensitive, so "home.htm" is different from "home.HTM".</td></tr><tr><td align="center" valign="top">-</td><td>Links may point at directories (see example 1).</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>firstPass</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>secondPass</b> and <b>thirdPass</b> will contain between 0 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each string in the input will be a maximum of 50 characters.</td></tr><tr><td align="center" valign="top">-</td><td>A <i>link</i> will be formatted as a sequence of letters, numbers, periods and slashes.  </td></tr><tr><td align="center" valign="top">-</td><td>No link will contain leading, trailing or double slashes, and the file name will contain at least one letter or number.  </td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>firstPass</b> will be formatted as a single <i>link</i>.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>secondPass</b> and <b>thirdPass</b> will be formatted as an integer with no extra leading zeros, followed by a space and a <i>link</i>.</td></tr><tr><td align="center" valign="top">-</td><td>The integers in <b>secondPass</b> and <b>thirdPass</b> will reference valid pages in <b>firstPass</b> and <b>secondPass</b>, respectively.</td></tr><tr><td align="center" valign="top">-</td><td>None of the links will go above the root directory.</td></tr><tr><td align="center" valign="top">-</td><td>A subfolder containing only periods will only be ".." and is only allowed in <b>secondPass</b> or <b>thirdPass</b>.  Furthermore, it must be either the first subfolder or else all the preceding subfolders must also be "..".  Hence, links like <tt>"reports/../home.htm"</tt> and <tt>".../abc.htm"</tt> are not allowed.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;home.htm&quot;, &quot;sitemap.htm&quot;, &quot;contact.htm&quot;, &quot;support/login.jsp&quot;}</pre></td></tr><tr><td><pre>{&quot;2 locations.htm&quot;, &quot;3 ../home.htm&quot;}</pre></td></tr><tr><td><pre>{&quot;0 contact.htm&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"><p>On the home page, the first pass finds that there are four links: &quot;home.htm&quot;, &quot;sitemap.htm&quot;, &quot;contact.htm&quot;, and &quot;login.jsp&quot;.  Notice that the login page is in the &quot;support&quot; folder.</p>
<p>On the second pass, we find that the contact page has a link to &quot;locations.htm&quot;, and the login page has a link back to the home page (which we have already visited).</p>
<p>On the third (and final) pass, we find that the locations page has a link back to the contact page (which we have already seen).</p>
<p>So, we take account of all pages found on the site: home, sitemap, contact, login, and locations.  Thus, there are five pages.</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;index.html&quot;,&quot;products/all/INDEX.HTML&quot;,&quot;images/products/A101.GIF&quot;}</pre></td></tr><tr><td><pre>{&quot;1 ../../index.html&quot;,&quot;1 ../../products&quot;}</pre></td></tr><tr><td><pre>{}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">Note that the second link in <b>secondPass</b> is to products, which is the same as a directory name.  This is allowed, and should be counted separately.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;.rc&quot;}</pre></td></tr><tr><td><pre>{}</pre></td></tr><tr><td><pre>{}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a&quot;}</pre></td></tr><tr><td><pre>{&quot;0 a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a&quot;}</pre></td></tr><tr><td><pre>{&quot;0 ../a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a&quot;,
 &quot;0 ..a/a&quot;,
 &quot;0 a../a..&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;abc/ccba&quot;,&quot;ab/cba&quot;,&quot;..a&quot;}</pre></td></tr><tr><td><pre>{&quot;0 cba&quot;,&quot;1 ccba&quot;}</pre></td></tr><tr><td><pre>{&quot;0 cba&quot;,&quot;1 ccba&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;a&quot;,&quot;ab/ab&quot;,&quot;ab/ab/abc&quot;,&quot;abc/abc&quot;}</pre></td></tr><tr><td><pre>{&quot;0 ab/ab&quot;,&quot;1 ab&quot;,&quot;1 ../ab/ab&quot;,&quot;2 ../../ab/abc&quot;}</pre></td></tr><tr><td><pre>{&quot;0 ../ab/ab&quot;,&quot;2 ../abc/abc&quot;,&quot;1 ab/ab&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a/a&quot;}</pre></td></tr><tr><td><pre>{&quot;0 ../../../../../../../../a/a/a/a/a/a/a/a/a&quot;}</pre></td></tr><tr><td><pre>{&quot;0 ../../../../../../../../a/a/a/a/a/a/a/a/a&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">7)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;index.asp&quot;, &quot;contact.asp&quot;, &quot;about/index.asp&quot;, &quot;users/support.asp&quot;,
 &quot;company/executiveteam.asp&quot;, &quot;products/catalog.asp&quot;}</pre></td></tr><tr><td><pre>{&quot;1 index.asp&quot;, &quot;1 requestinfo.asp&quot;, &quot;2 ../index.asp&quot;, &quot;2 history.asp&quot;,
&quot;3 ../index.asp&quot;, &quot;3 helpdesk.asp&quot;, &quot;4 ../index.asp&quot;, &quot;4 boardofdirectors.asp&quot;,
&quot;4 location.asp&quot;, &quot;5 ../index.asp&quot;, &quot;5 new/index.asp&quot;,  &quot;5 ../index.asp&quot;, &quot;5 sale.asp&quot;}</pre></td></tr><tr><td><pre>{&quot;10 ../../index.asp&quot;, &quot;11 products/index.asp&quot;, &quot;11 products/catalog.asp&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 14</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
