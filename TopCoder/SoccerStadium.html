<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
We have a soccer stadium.
The stadium is a rectangle with height <b>H</b> meters and width <b>W</b> meters.
We can imagine that it is divided into unit square cells.
Rows and columns of the grid are numbered starting from zero.
The cell in row i and column j is denoted (i, j).
</p>
<br></br>
<p>
There is a wall surrounding the stadium. 
More precisely, the edges of the unit squares that form the boundary of the stadium are all walls.<br></br>
Additionally, some of the internal borders between pairs of cells are currently blocked using nets. Each net is 1 meter long and it is placed either horizontally or vertically between two cells.<br></br>
The initial placement of nets is given in the vector &lt;string&gt; <b>placement</b>: a length (2*<b>H</b>+1) array of length (2*<b>W</b>+1) strings, like the one shown below.
</p>
<br></br>
<pre>
{ "+-+-+-+-+" ,
  "|.|.....|" ,
  "+.+-+-+-+" ,
  "|.|.|...|" ,
  "+-+-+.+.+" ,
  "|.|.|...|" ,
  "+-+.+.+-+" ,
  "|...|...|" ,
  "+-+-+-+-+" }
</pre>
<br></br>
<p>
This is one example for <b>H</b> = 4, <b>W</b> = 4. The vertices of cells are given as '+', the vertical nets and walls are given as '|', the horizontal nets and walls as '-', and the character '.' is used everywhere else.
</p>
<br></br>
<p>
The surrounding wall together with the nets divide the soccer stadium into one or more connected areas. We will call these <i>game areas</i>. <br></br>
A game area is <i>usable</i> if its shape is an empty rectangle.
That is, the boundary of a usable game area must be completely covered by walls and nets, and there can be no nets inside the game area.
</p>
<br></br>
<p>
We have two goals:
</p>
<ol>
<li>Our primary goal is that no space can be wasted. All game areas must be usable.</li>
<li>Our secondary goal is that the number of game areas must be maximized, so that we can play many games in parallel.</li>
</ol>
<p>
The only type of changes we are allowed to make is that we may remove some (possibly none or all) of the nets.<br></br>
Calculate and return the largest possible number of game areas we may create in the given stadium, given that all game areas must be usable.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SoccerStadium</td></tr><tr><td>Method:</td><td>maximumGames</td></tr><tr><td>Parameters:</td><td>int, int, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int maximumGames(int H, int W, vector &lt;string&gt; placement)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>H</b> and <b>W</b> will be at least 1.</td></tr><tr><td align="center" valign="top">-</td><td>The area of soccer stadium, <b>H</b> * <b>W</b>, will be at most 500.</td></tr><tr><td align="center" valign="top">-</td><td>The length of <b>placement</b> will be 2*<b>H</b>+1.</td></tr><tr><td align="center" valign="top">-</td><td>The length of <b>placement[i]</b> will be 2*<b>W</b>+1.</td></tr><tr><td align="center" valign="top">-</td><td>For even i and even j, <b>placement</b>[i][j] will be '+'.</td></tr><tr><td align="center" valign="top">-</td><td>For odd i and odd j, <b>placement</b>[i][j] will be '.'.</td></tr><tr><td align="center" valign="top">-</td><td>For even i and odd j, <b>placement</b>[i][j] will be '.' or '-'. The exception is for i = 0, 2*<b>W</b> and it will always be '-'.</td></tr><tr><td align="center" valign="top">-</td><td>For odd i and even j, <b>placement</b>[i][j] will be '.' or '|'. The exception is for j = 0, 2*<b>H</b> and it will always be '|'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+-+&quot; ,
  &quot;|.|.....|&quot; ,
  &quot;+.+-+-+-+&quot; ,
  &quot;|.|.|...|&quot; ,
  &quot;+-+-+.+.+&quot; ,
  &quot;|.|.|...|&quot; ,
  &quot;+-+.+.+-+&quot; ,
  &quot;|...|...|&quot; ,
  &quot;+-+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
In this example, if you remove 3 nets and change stadium to as follows, the stadium can have 5 <i>game areas</i>, so we can play 5 games simultaneously.<br></br>
All <i>game areas</i> are rectangular, so it's a good soccer stadium. We cannot create more <i>game areas</i> for a good stadium.
</p>
<pre>
+-+-+-+-+
|.|.....|
+.+-+-+-+
|.|.|...|
+-+-+.+.+
|...|...|
+.+.+.+.+
|...|...|
+-+-+-+-+
</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+&quot; ,
  &quot;|.....|&quot; ,
  &quot;+-+-+.+&quot; ,
  &quot;|.|.|.|&quot; ,
  &quot;+-+-+-+&quot; ,
  &quot;|.|.|.|&quot; ,
  &quot;+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
In this example, if you remove 4 nets and change stadium to as follows, the stadium can have 4 <i>game areas</i>, so we can play 4 games simultaneously.<br></br>
Please note that <b>we are NOT to maximize the number of rectangular game areas, but to maximize the number of game areas such that all of them are rectangular.</b>
</p>
<pre>
+-+-+-+
|.....|
+.+.+.+
|.....|
+-+-+-+
|.|.|.|
+-+-+-+
</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+&quot; ,
  &quot;|.|...|&quot; ,
  &quot;+.+-+.+&quot; ,
  &quot;|.|.|.|&quot; ,
  &quot;+.+.+-+&quot; ,
  &quot;|.|...|&quot; ,
  &quot;+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
In this example, you cannot create more than 2 <i>game areas</i> that all of them are rectangular.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+&quot; ,
  &quot;|.....|&quot; ,
  &quot;+.+-+.+&quot; ,
  &quot;|.|.|.|&quot; ,
  &quot;+.+-+.+&quot; ,
  &quot;|.....|&quot; ,
  &quot;+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
All game areas must be rectangular and completely empty. The outer game area currently contains four nets that form the boundary of the inner game area. This is not allowed. The only option we have is to remove all nets and make one big game area.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+-+&quot; ,
  &quot;|.|.|...|&quot; ,
  &quot;+-+-+-+-+&quot; ,
  &quot;|.......|&quot; ,
  &quot;+.+-+-+.+&quot; ,
  &quot;|.......|&quot; ,
  &quot;+-+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
Note that all game areas must not have extra nets which does not surround their areas.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>9</pre></td></tr><tr><td><pre>{ &quot;+-+-+-+-+-+-+-+-+-+&quot; ,
  &quot;|.|...|...|...|...|&quot; ,
  &quot;+.+-+-+-+-+-+-+-+-+&quot; ,
  &quot;|.|.|...|...|...|.|&quot; ,
  &quot;+-+.+-+-+-+-+-+-+.+&quot; ,
  &quot;|.|.|.|...|...|.|.|&quot; ,
  &quot;+.+-+.+-+-+-+-+.+-+&quot; ,
  &quot;|.|.|.|.|.|.|.|.|.|&quot; ,
  &quot;+-+.+-+.+.+-+.+-+.+&quot; ,
  &quot;|.|.|...|...|.|.|.|&quot; ,
  &quot;+.+-+-+-+-+-+-+.+-+&quot; ,
  &quot;|.|...|...|...|.|.|&quot; ,
  &quot;+-+-+-+-+-+-+-+-+.+&quot; ,
  &quot;|...|...|...|...|.|&quot; ,
  &quot;+-+-+-+-+-+-+-+-+-+&quot; }</pre></td></tr></table></td></tr><tr><td><pre>Returns: 25</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
