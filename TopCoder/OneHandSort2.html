<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Misof recently had an accident in which he managed to cut his left hand on some broken glass. He is now "all right" - meaning that he can only use his right hand for a while. Help him with some issues he has.</p>
<p>Misof needs to sort the objects on his shelf. The shelf has <b>N</b>+1 slots, numbered 0 through <b>N</b> from the left to the right. Slot <b>N</b> is currently empty and it should be empty once the shelf is sorted. Slots 0 through <b>N</b>-1 contain objects: for each i, slot i currently contains an object that belongs into slot target[i].</p>
<p>As Misof only has one working hand, he can only rearrange the shelf in one way: he can pick up any object and move it from its current slot into the one slot that is currently empty.</p>
<p>Determine the smallest number of actions Misof needs to perform in order to sort the shelf.</p>
<p>
You are given the int <b>N</b>, the vector &lt;int&gt; <b>targetPrefix</b>, and ints <b>a</b> and <b>b</b>. Use the following pseudocode to generate the vector &lt;int&gt;Â <b>target</b>:
</p>
<pre>
L = length(targetPrefix)
for i = 0 to L-1:
    target[i] = targetPrefix[i]
for i = L to N-1:
    tmp = ( target[i-1] * a + b ) modulo N
    x = the smallest number in the range [tmp,N-1] that does not appear in the set { target[0], ..., target[i-1] }
    if such an x does not exist:    
        x = the smallest number in the range [0,N-1] that does not appear in the set { target[0], ..., target[i-1] }
    target[i] = x
</pre></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>OneHandSort2</td></tr><tr><td>Method:</td><td>minMoves</td></tr><tr><td>Parameters:</td><td>int, vector &lt;int&gt;, int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int minMoves(int N, vector &lt;int&gt; targetPrefix, int a, int b)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>You need to generate the array target efficiently. Otherwise, your solution may exceed the time limit.</td></tr><tr><td align="center" valign="top">-</td><td>Watch out for integer overflow when generating target.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 500,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>targetPrefix</b> will contain between 1 and min(<b>N</b>,200) elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>targetPrefix</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>All elements of <b>targetPrefix</b> will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> and <b>b</b> will be between 0 and 2,000,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>{1, 2, 3, 0}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"><p>The shelf looks as follows:</p>
<pre>
| 1 | 2 | 3 | 0 |   |
+---+---+---+---+---+
</pre>
<p>The optimal way to sort this shelf is to do it in five moves. For example, we may move the object from slot 2 to slot 4, then from 1 to 2, then from 0 to 1, then from 3 to 0, and finally from slot 4 to slot 3.</p>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>{2, 3, 0, 1}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2">This time we need six moves, this shelf cannot be sorted in five or fewer.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>{3, 7}</pre></td></tr><tr><td><pre>1664525</pre></td></tr><tr><td><pre>1013904223</pre></td></tr></table></td></tr><tr><td><pre>Returns: 11</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
The correct array you should generate in this test case: target = {3, 7, 8, 4, 5, 9, 0, 6, 1, 2}.
</p>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>{5, 9, 8, 7, 6, 0, 3}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 13</pre></td></tr><tr><td><table><tr><td colspan="2">target = {6, 9, 8, 7, 5, 0, 3, 1, 2, 4}</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
